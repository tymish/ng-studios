<div class="container">
  <div *ngIf="thisMonthSummary$ | async as thisMonth">
    <mat-card
      *ngIf="thisMonth.reportsSentCount > 0"
      [routerLink]="routerLink(thisMonth)"
      class="month-card"
    >
      <h2 mat-card-title>{{ displayMonthYear(thisMonth.sent) }}</h2>
      <div class="counts">
        <span class="box"
          >Sent <span class="count">{{ thisMonth.reportsSentCount }}</span>
        </span>
        <span class="box"
          >Submitted
          <span class="count">{{ thisMonth.reportsSubmittedCount }}</span></span
        >
        <span class="box"
          >Paid
          <span class="count">{{ thisMonth.reportsPaidCount }}</span></span
        >
      </div>
    </mat-card>

    <mat-card *ngIf="thisMonth.reportsSentCount === 0">
      <h2 mat-card-title>{{ displayMonthYear(thisMonth.sent) }}</h2>
      <p>There are no time reports for this month yet.</p>
      <button
        mat-raised-button
        (click)="requestTimeReports(thisMonth.sent)"
        color="primary"
      >
        Request time reports
      </button>
    </mat-card>
  </div>

  <mat-card
    *ngFor="let month of previousMonthsReports$ | async"
    [routerLink]="routerLink(month)"
    class="month-card"
  >
    <h2 mat-card-title>{{ displayMonthYear(month.sent) }}</h2>
    <div class="counts">
      <span class="box"
        >Sent <span class="count">{{ month.reportsSentCount }}</span>
      </span>
      <span class="box"
        >Submitted
        <span class="count">{{ month.reportsSubmittedCount }}</span></span
      >
      <span class="box"
        >Paid <span class="count">{{ month.reportsPaidCount }}</span></span
      >
    </div>
  </mat-card>
</div>
